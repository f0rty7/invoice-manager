mat-card { margin-top: var(--spacing-xl); overflow: hidden; @media (max-width: 768px) { margin-top: var(--spacing-lg); } }
mat-card-content { padding: 0 !important; }
:host {
  // Column widths (override these from a parent if needed, e.g. `app-invoice-table { --invoice-col-order-no: 180px; }`)
  --invoice-col-order-no: auto;
  --invoice-col-invoice-no: auto;
  --invoice-col-date: auto;
  --invoice-col-partner: auto; // flex column
  --invoice-col-items: auto;
  --invoice-col-total: auto;
  --invoice-col-uploaded-by: auto;
  --invoice-col-actions: auto;
}
.loading-container, .error-container, .empty-container {
  display: flex; flex-direction: column; align-items: center; padding: var(--spacing-2xl) var(--spacing-lg); text-align: center;
  mat-icon { font-size: 56px; width: 56px; height: 56px; margin-bottom: var(--spacing-md); color: var(--text-muted); opacity: 0.5; }
  p { font-size: 15px; color: var(--text-secondary); margin: var(--spacing-sm) 0; }
}
.error-container mat-icon { color: var(--accent-danger); opacity: 1; }
.table-container { 
  overflow: hidden;
  min-height: 400px;
}
.invoice-table {
  width: 100%;
  table-layout: fixed;
  border-collapse: collapse;
  col.col-order-no { width: var(--invoice-col-order-no); }
  col.col-invoice-no { width: var(--invoice-col-invoice-no); }
  col.col-date { width: var(--invoice-col-date); }
  col.col-partner { width: var(--invoice-col-partner); }
  col.col-items { width: var(--invoice-col-items); }
  col.col-total { width: var(--invoice-col-total); }
  col.col-uploaded-by { width: var(--invoice-col-uploaded-by); }
  col.col-actions { width: var(--invoice-col-actions); }
  th { font-weight: 600 !important; color: var(--text-muted) !important; font-size: 12px !important; text-transform: uppercase !important; letter-spacing: 0.5px !important; background: var(--bg-secondary) !important; padding: var(--spacing-md) !important; z-index: 10; text-align: left !important; }
  td { padding: var(--spacing-md) !important; font-size: 14px !important; }
  .invoice-row { &:hover { background: var(--bg-secondary) !important; } }
  .order-no { font-weight: 600; color: var(--accent-primary); font-family: monospace; font-size: 13px; }
  .invoice-no { font-weight: 500; color: var(--text-secondary); font-family: monospace; font-size: 12px; }
  .total-amount { font-weight: 600; color: var(--accent-success); }
  button[color="warn"]:hover { background: var(--accent-danger-light) !important; }
}

.body-table {
  // CDK virtual scroll requires fixed-size rows. If invoice cell content wraps,
  // the actual row height becomes > itemSize and the viewport may never reach the end,
  // so load-more won't trigger. Keep rows single-line with ellipsis.
  .invoice-row {
    height: 56px;
  }

  td {
    height: 56px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    vertical-align: middle;
  }

  .order-no,
  .invoice-no,
  .partner-name,
  .total-amount {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

.header-table {
  border-bottom: 1px solid var(--border-light);
}

.viewport {
  width: 100%;
}

.body-table td, .body-table th {
  border-bottom: 1px solid var(--border-light);
}

.actions-cell {
  white-space: nowrap;
}

.table-footer {
  position: sticky;
  bottom: 0;
  display: flex;
  justify-content: space-between;
  gap: 16px;
  padding: 10px 12px;
  background: var(--bg-card);
  border-top: 1px solid var(--border-light);
  font-size: 13px;
}
.loading-more {
  display: flex; align-items: center; justify-content: center; gap: var(--spacing-md); padding: var(--spacing-lg); color: var(--text-secondary); font-size: 14px;
}
.end-of-list {
  display: flex; align-items: center; justify-content: center; padding: var(--spacing-sm); color: var(--text-muted); font-size: 13px;
}

<div class="dashboard-container">
  <!-- Toolbar -->
  <mat-toolbar color="primary" class="dashboard-toolbar">
    <span class="toolbar-title">
      <mat-icon>dashboard</mat-icon>
      PDF Invoice Manager
    </span>

    <span class="toolbar-spacer"></span>

    <button 
      mat-button 
      (click)="openUploadDialog()"
      matTooltip="Upload PDF Invoices">
      <mat-icon>cloud_upload</mat-icon>
      Upload
    </button>

    <span class="user-info">
      <mat-icon>person</mat-icon>
      {{ currentUser()?.username }}
      @if (isAdmin()) {
        <span class="admin-badge">ADMIN</span>
      }
    </span>

    @if (isAdmin()) {
      <button 
        mat-button 
        (click)="goToAdmin()"
        matTooltip="Admin Panel">
        <mat-icon>admin_panel_settings</mat-icon>
        Admin Panel
      </button>
    }

    <button 
      mat-button 
      (click)="logout()"
      matTooltip="Logout">
      <mat-icon>logout</mat-icon>
      Logout
    </button>
  </mat-toolbar>

  <!-- Main Content with Sidebar Layout -->
  <div class="dashboard-content">
    <!-- Left Sidebar - Filters -->
    <aside class="dashboard-sidebar">
      <app-filter-bar></app-filter-bar>
    </aside>

    <!-- Main Content Area -->
    <main class="dashboard-main">
      <div class="container">
        <!-- Page Header -->
        <div class="page-header">
          <h1>My Dashboard</h1>
          <p class="subtitle">Manage and track your invoices</p>
        </div>

        <!-- Statistics Cards -->
        <app-stats-cards></app-stats-cards>

        <!-- Charts -->
        <app-charts></app-charts>

        <!-- Advanced Analytics -->
        <app-advanced-charts></app-advanced-charts>

        <!-- Data Tables -->
        <mat-tab-group class="data-tables" animationDuration="200ms">
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>receipt</mat-icon>
              <span>Invoices ({{ invoicesTotal() }})</span>
            </ng-template>
            <app-invoice-table></app-invoice-table>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>inventory_2</mat-icon>
              <span>Items ({{ itemsTotal() }})</span>
            </ng-template>
            <app-item-table></app-item-table>
          </mat-tab>
        </mat-tab-group>
      </div>
    </main>
  </div>
</div>

